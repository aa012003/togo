import{a as o}from"./axios-CV48_vsH.js";import{_ as v,r as d,o as u,c as g,b as e,d as n,w as c,D as k,x as f,G as b,F as x,g as r}from"./index-DRx3FwOa.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"joychiang",BASE_URL:"/togo/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:h}=V,R={data(){return{checkSuccess:!1}},methods:{checkAdmin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)joyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(t){o.defaults.headers.common.Authorization=t;const a=`${h}/api/user/check`;o.post(a,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(i=>{alert(i.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")},signOut(){const t=`${h}/logout`;o.post(t).then(()=>{alert("登出成功！"),document.cookie="joyToken=; expires=; path=/",this.$router.push("/home")}).catch(a=>{alert(a.response.data.message)})}},mounted(){this.checkAdmin()}},$={class:"navbar navbar-expand-lg navbar-light bg-primary"},T={class:"container-fluid"},y=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),E={class:"collapse navbar-collapse",id:"navbarNav"},N={class:"navbar-nav"},w={class:"nav-item"},S={class:"nav-item"},A={class:"nav-item"};function B(t,a,i,D,_,l){const s=d("RouterLink"),p=d("RouterView");return u(),g(x,null,[e("nav",$,[e("div",T,[n(s,{to:"/home",class:"navbar-brand text-secondary"},{default:c(()=>[r("回到前台")]),_:1}),y,e("div",E,[e("ul",N,[e("li",w,[n(s,{to:"/admin/product",class:"nav-link active"},{default:c(()=>[r("商品列表")]),_:1})]),e("li",S,[n(s,{to:"/admin/order",class:"nav-link"},{default:c(()=>[r("訂單列表")]),_:1})]),e("li",A,[e("a",{href:"#",onClick:a[0]||(a[0]=k((...m)=>l.signOut&&l.signOut(...m),["prevent"])),class:"nav-link"},"登出")])])])])]),_.checkSuccess?(u(),f(p,{key:0})):b("",!0)],64)}const C=v(R,[["render",B]]);export{C as default};
