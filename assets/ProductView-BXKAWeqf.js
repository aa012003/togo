import{a as h}from"./axios-CV48_vsH.js";import{_ as f,a as y,r as p,o as i,c,b as t,d as a,F as l,e as _,t as r,g as d,A as b,C as T,w as m,D as g}from"./index-B-qbgS8l.js";import{c as k}from"./cartStore-Bn3L38Ra.js";import"./sweetalert2.all-BciZqo08.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"joychiang",BASE_URL:"/togo/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V,VITE_PATH:x}=L,C={data(){return{qty:1,product:{},isLoading:!1}},watch:{product(){this.qty=1}},methods:{getProduct(){const n=this.$route.params.productId;this.isLoading=!0,h.get(`${V}/api/${x}/product/${n}`).then(s=>{this.product=s.data.product,this.isLoading=!1})},...y(k,["addToCart"])},mounted(){this.getProduct()}},w={class:"container"},E={class:"mt-4 mb-9 row"},P={class:"col-md-6 text-center"},R=["src"],D={class:"col-md-6 mt-4 mb-7 text-secondary"},S={class:"mb-3"},U={class:"text-danger"},q={class:"text-secondary h6"},A={class:"input-group"},I=["value"];function N(n,s,B,M,o,j){const v=p("loading"),u=p("RouterLink");return i(),c(l,null,[t("div",null,[a(v,{active:o.isLoading,"onUpdate:active":s[0]||(s[0]=e=>o.isLoading=e),"can-cancel":!0,"on-cancel":n.onCancel,"is-full-page":n.fullPage},null,8,["active","on-cancel","is-full-page"]),(i(!0),c(l,null,_(n.categories,e=>(i(),c("li",{key:e},[a(u,{to:`/products?category=${e}`,class:"nav-item nav-link text-nowrap px-2"},{default:m(()=>[d(r(e),1)]),_:2},1032,["to"])]))),128))]),t("div",w,[t("div",E,[t("div",P,[t("img",{src:o.product.imageUrl,alt:"",class:"object-fit-cover",height:"351px"},null,8,R)]),t("div",D,[t("h2",S,r(o.product.title),1),t("p",null,r(o.product.description),1),t("p",null,r(o.product.content),1),t("h5",U,[t("del",q,"NT$"+r(o.product.origin_price),1),d(" NT$"+r(o.product.price),1)]),t("div",A,[b(t("select",{name:"",id:"",class:"form-select mb-3","onUpdate:modelValue":s[1]||(s[1]=e=>o.qty=e)},[(i(),c(l,null,_(20,e=>t("option",{value:e,key:e},r(e),9,I)),64))],512),[[T,o.qty]])]),a(u,{to:"/cart",class:"btn btn-outline-secondary btn-block rounded-0 py-2",onClick:s[2]||(s[2]=g(e=>n.addToCart(o.product.id),["prevent"]))},{default:m(()=>[d("直接購買")]),_:1}),t("a",{class:"btn btn-secondary btn-block rounded-0 py-2",onClick:s[3]||(s[3]=g(e=>n.addToCart(o.product.id,o.qty),["prevent"]))},"加入購物車")])])])],64)}const G=f(C,[["render",N]]);export{G as default};
