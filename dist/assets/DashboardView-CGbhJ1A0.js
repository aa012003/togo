import{a as n}from"./axios-CV48_vsH.js";import{_ as f,S as t,r as u,o as h,c as g,b as e,d as c,w as r,y as k,x as b,B as x,F as V,g as i}from"./index-BZpAAvGB.js";var R={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"joychiang",BASE_URL:"/production-sub-path/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:p}=R,$={data(){return{checkSuccess:!1}},methods:{checkAdmin(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)joyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(s){n.defaults.headers.common.Authorization=s;const a=`${p}/api/user/check`;n.post(a,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(l=>{t.fire(l.response.data.message),this.$router.push("/login")})}else t.fire("您尚未登入。"),this.$router.push("/login")},signOut(){const s=`${p}/logout`;n.post(s).then(()=>{t.fire("登出成功！"),document.cookie="joyToken=; expires=; path=/",this.$router.push("/home")}).catch(a=>{t.fire(a.response.data.message)})}},mounted(){this.checkAdmin()}},y={class:"navbar navbar-expand-lg navbar-light bg-primary"},S={class:"container-fluid"},T=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),w={class:"collapse navbar-collapse",id:"navbarNav"},E={class:"navbar-nav"},N={class:"nav-item"},B={class:"nav-item"},A={class:"nav-item"};function L(s,a,l,O,_,d){const o=u("RouterLink"),m=u("RouterView");return h(),g(V,null,[e("nav",y,[e("div",S,[c(o,{to:"/home",class:"navbar-brand text-secondary"},{default:r(()=>[i("回到前台")]),_:1}),T,e("div",w,[e("ul",E,[e("li",N,[c(o,{to:"/admin/product",class:"nav-link"},{default:r(()=>[i("商品列表")]),_:1})]),e("li",B,[c(o,{to:"/admin/order",class:"nav-link"},{default:r(()=>[i("訂單列表")]),_:1})]),e("li",A,[e("a",{href:"#",onClick:a[0]||(a[0]=k((...v)=>d.signOut&&d.signOut(...v),["prevent"])),class:"nav-link"},"登出")])])])])]),_.checkSuccess?(h(),b(m,{key:0})):x("",!0)],64)}const j=f($,[["render",L]]);export{j as default};
