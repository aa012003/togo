import{a as f}from"./axios-CV48_vsH.js";import{_ as h,a as b,r as u,o as i,c,b as t,d as a,F as l,e as p,t as r,A as y,C as k,w as m,D as _,g as v}from"./index-DRx3FwOa.js";import{c as L}from"./cartStore-qkZfhzrz.js";import"./sweetalert2.all-mgA7V8HJ.js";var T={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"joychiang",BASE_URL:"/togo/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V,VITE_PATH:w}=T,C={data(){return{qty:1,product:{},isLoading:!1}},watch:{product(){this.qty=1}},methods:{getProduct(){const n=this.$route.params.productId;this.isLoading=!0,f.get(`${V}/api/${w}/product/${n}`).then(s=>{this.product=s.data.product,this.isLoading=!1})},...b(L,["addToCart"])},mounted(){this.getProduct()}},E={class:"container"},P={class:"mt-4 mb-9 row"},R={class:"col-md-5"},x=["src"],D={class:"col-md-6 mt-4 mb-7 ms-7 text-secondary"},S={class:"mb-0"},U={class:"fw-bold"},q={class:"input-group"},A=["value"];function I(n,s,B,N,e,M){const g=u("loading"),d=u("RouterLink");return i(),c(l,null,[t("div",null,[a(g,{active:e.isLoading,"onUpdate:active":s[0]||(s[0]=o=>e.isLoading=o),"can-cancel":!0,"on-cancel":n.onCancel,"is-full-page":n.fullPage},null,8,["active","on-cancel","is-full-page"]),(i(!0),c(l,null,p(n.categories,o=>(i(),c("li",{key:o},[a(d,{to:`/products?category=${o}`,class:"nav-item nav-link text-nowrap px-2"},{default:m(()=>[v(r(o),1)]),_:2},1032,["to"])]))),128))]),t("div",E,[t("div",P,[t("div",R,[t("img",{src:e.product.imageUrl,alt:"",class:"object-fit-cover",height:"400px"},null,8,x)]),t("div",D,[t("h2",S,r(e.product.title),1),t("p",U,"NT$"+r(e.product.price),1),t("p",null,r(e.product.description),1),t("p",null,r(e.product.content),1),t("div",q,[y(t("select",{name:"",id:"",class:"form-select mb-3","onUpdate:modelValue":s[1]||(s[1]=o=>e.qty=o)},[(i(),c(l,null,p(20,o=>t("option",{value:o,key:o},r(o),9,A)),64))],512),[[k,e.qty]])]),a(d,{to:"/cart",class:"btn btn-outline-secondary btn-block rounded-0 py-2",onClick:s[2]||(s[2]=_(o=>n.addToCart(e.product.id),["prevent"]))},{default:m(()=>[v("直接購買")]),_:1}),t("a",{class:"btn btn-secondary btn-block rounded-0 py-2",onClick:s[3]||(s[3]=_(o=>n.addToCart(e.product.id,e.qty),["prevent"]))},"加入購物車")])])])],64)}const z=h(C,[["render",I]]);export{z as default};
